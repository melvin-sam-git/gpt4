import gradio as gr
import ollama
with open('kb.csv', 'r', encoding='utf-8') as f:
    travel_data_string = f.read()
SYSTEM_PROMPT = f"""
You are a helpful AI travel assistant.
You must give travel recommendations based based on the following data.
When you recommend a movie, explain why based on the data.
You can use external knowledge if it is relevant to the content asked. If the answer is not related this data,
say "I'm sorry, I don't have that information."
{travel_data_string}"""
def travel_chat(message, history):
    messages = [{'role': 'system', 'content': SYSTEM_PROMPT},{'role': 'user', 'content': message}]
    response = ollama.chat(model='qwen2.5:0.5b', messages=messages)
    return response['message']['content']
print("Launching AI Travel Assistant...")
gr.ChatInterface(fn=travel_chat, title="AI Travel Assistant ✈️").launch()




import gradio as gr
import ollama
from pypdf import PdfReader
reader=PdfReader("m flutter erec exp5.pdf")
pdf_text=""
for page in reader.pages:
    pdf_text +=page.extract_text() +"\n"

travel_data_string=pdf_text
SYSTEM_PROMPT=f"""
You are a helpful AI travel assistant.
You must give travel recommendations based based on the following data.
You can use external knowledge if it is relevant to the content asked. If the answer is not related this data,
say "I'm sorry, I don't have that information."
{travel_data_string}"""
def travel_chat(message,history):
    messages=[{"role":"system","content":SYSTEM_PROMPT},{"role":"user","content":message}]
    respond = ollama.chat(model="qwen2.5:0.5b",messages=messages)
    return respond ["message"]["content"]
gr.ChatInterface(fn=travel_chat,title="ejfgh").launch()



import gradio as gr, ollama

def blog(topic, words):
    p = f"Write a {words} word blog about {topic}."
    return ollama.chat(model="qwen2.5:0.5b", messages=[{"role": "user", "content": p}])["message"]["content"]

gr.Interface(
    blog,
    inputs=["text", "number"],
    outputs=gr.Textbox(lines=20, label="Output")  # <-- Larger output box
).launch()






import gradio as gr
import ollama
import pandas as pd

# Load your CSV once
df = pd.read_csv("kb.csv")
csv_text = df.to_string(index=False)

def blog(topic, words):
    p = f"""
Write a {words}-word blog about {topic}.
Use the following CSV data for reference:
{csv_text}
"""
    return ollama.chat(
        model="qwen2.5:0.5b",
        messages=[{"role": "user", "content": p}]
    )["message"]["content"]

gr.Interface(
    fn=blog,
    inputs=["text", "number"],
    outputs=gr.Textbox(lines=20, label="Output")
).launch()

